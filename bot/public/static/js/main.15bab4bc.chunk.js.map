{"version":3,"sources":["Location/ImgMediaCard.jsx","Location/Search.jsx","Location/URLImage.jsx","Location/UsersLocation.jsx","config.js","Shared/Datepicker.jsx","Analytics/Header.jsx","requests/credentials.js","Analytics/Proximity/TotalCount.jsx","Analytics/Proximity/ChartProximity.jsx","Analytics/Proximity/Proximity.jsx","Analytics/Dwell/TotalCount.jsx","Analytics/Dwell/ChartDwell.jsx","Analytics/Dwell/Dwell.jsx","Analytics/RepeatVisitors/ChartRepeatVisitors.jsx","Analytics/RepeatVisitors/TotalCount.jsx","Analytics/RepeatVisitors/RepeatVisitors.jsx","Analytics/Summary/Visitors.jsx","Analytics/Summary/DwellTime.jsx","Analytics/Summary/Devices.jsx","Analytics/Summary/Prediction.jsx","Analytics/Summary/Summary.jsx","Analytics/Insights/Week.jsx","Analytics/Insights/Month.jsx","Analytics/Insights/Insights.jsx","Analytics/Analytics.jsx","Layout/Header.jsx","Layout/Login.jsx","Location/OutlinedTextFields.jsx","Location/Map.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["ImgMediaCard","props","_this","Object","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","setParamState","name","param","setState","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","showInfo","x","y","e","upper","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","state","allUser","map","item","mapCoordinate","floor","mapInfo","floorRefId","info","manufacturer","userName","macAddress","myInput","React","createRef","nextProps","campus","build","url","config","location","imageSrc","header","JSON","parse","localStorage","getItem","axios","get","headers","Authorization","responseType","res","tmp","Buffer","data","toString","img","console","log","_context","t0","post","message","catch","error","image","classes","width","current","offsetWidth","height","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","react_konva__WEBPACK_IMPORTED_MODULE_17__","_UsersLocation_jsx__WEBPACK_IMPORTED_MODULE_19__","src","updateParam","redDot","notification","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15___default","gutterBottom","variant","component","_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13___default","className","card","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_16___default","container","direction","justify","ref","_Search_jsx__WEBPACK_IMPORTED_MODULE_20__","users","setFloor","Component","withStyles","theme","display","maxWidth","media","objectFit","flexDirection","justifyContent","windowSize","Search","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","handleInput","event","userInput","target","value","validate","str","match","handleClick","verdict","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","mapHierarchyString","split","prevState","listOfsearch","concat","_Users_mmotov_Desktop_ccmn_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","addInfo","handleKeyPress","key","react__WEBPACK_IMPORTED_MODULE_7___default","containerInput","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_13___default","scroll","index","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9___default","root","elevation","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","input","placeholder","onChange","onKeyPress","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","iconButton","aria-label","onClick","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_12___default","padding","alignItems","marginLeft","flex","divider","margin","overflowY","URLImage","handleLoad","loadImage","oldProps","removeEventListener","window","Image","addEventListener","_this2","react_default","ReactKonva","node","imageNode","UsersLocation","classCallCheck","possibleConstructorReturn","getPrototypeOf","updateCurent","toConsumableArray","diplayNotification","arrA","Array","from","arrB","macAddr","difference","filter","includes","length","join","request","assertThisInitialized","then","imgWidth","imgHeight","interval","undefined","scaleWidth","bind","scaleHeight","_this3","setInterval","clearInterval","Promise","resolve","reject","onload","_this4","Location_URLImage","ind","color","founded","titile","fill","module","exports","presence","Datepicker","now","Date","start","moment","getFullYear","getMonth","getDate","end","add","subtract","startDate","endDate","date","format","changeDate","applyCallback","ranges","Today Only","Yesterday Only","3 Days","maxDate","dist_default","local","FormControl_default","formControl","TextField_default","spacing","unit","Header","handleChangeDate","params","handleParams","Grid_default","xs","md","Shared_Datepicker","flexWrap","selectEmpty","marginTop","getPresenceParams","baseUrl","siteId","id","types","keys","connected","passerby","visitors","RADIAN","Math","PI","renderCustomizedLabel","_ref","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","textAnchor","dominantBaseline","toFixed","TotalCount","hideData","type","obj","push","buildData","legendButtons","style","backgroundColor","opacity","Card_default","CardContent_default","index_es","Poll_default","Typography_default","es6","onMouseEnter","onPieEnter","labelLine","label","entry","ChartProximity","setChartData","chartData","prop","hasOwnProperty","time","RenderBrush","range","dataKey","stroke","chart","typesBars","fillOpacity","Proximity","fetchAll","fetchConnected","fetchPasserby","fetchVisitors","fetchCountVisitors","fetchCountConnected","fetchCountPasserby","buildQueryDateParams","isRange","visitorsCount","connectedCount","passerbyCount","nextContext","timeSection","objectSpread","result","_this5","_this6","_this7","_this8","Proximity_ChartProximity","Proximity_TotalCount","FIVE_TO_THIRTY_MINUTES","THIRTY_TO_SIXTY_MINUTES","ONE_TO_FIVE_HOURS","FIVE_TO_EIGHT_HOURS","EIGHT_PLUS_HOURS","showPercent","countDwellTime","AccessTime_default","ChartDwell","dwellTime","rangesAreas","colorsGradients","x1","y1","x2","y2","offset","stopColor","stopOpacity","top","right","left","bottom","strokeDasharray","Dwell","fetchDwellTime","fetchCountDwellTime","Dwell_ChartDwell","Dwell_TotalCount","DAILY","WEEKLY","OCCASIONAL","FIRST_TIME","YESTERDAY","ChartRepeatVisitors","repeatVisitors","rangesLines","People_default","count","RepeatVisitors","fetchRepeatVisitors","fetchCount","RepeatVisitors_ChartRepeatVisitors","RepeatVisitors_TotalCount","Visitors","ready","percentage","conversionRateL","conversionRate","sm","PeopleOutline_default","fontSize","renderContent","DwellTime","peakSummary","peakHour","next","err","parseInt","averageDwellTime","averageDwelTime","peakHourFormat","peakHourCount","dwellLevels","Devices","propsDevices","devices","sortedDevices","sort","b","deviceNames","device","Devices_default","Prediction","dates","currentKeyDate","i","counts","isKeyPresentInObj","countAverage","array","sum","number","predictions","predict","TrendingUp_default","Summary","fetchSummary","summary","totalConnectedCount","totalPasserbyCount","totalVisitorCount","connectedPercentage","averageDwell","peakWeekSummary","averageDwellByLevels","topManufacturers","manufacturerCounts","dataReady","Summary_Visitors","visitorsData","Summary_DwellTime","dwellData","Summary_Devices","devicesData","Summary_Prediction","weekDays","Week","connectedHourOutput","stats","peakHourDay","busiestHourOutput","busiestHour","Today_default","peakDay","peakCount","busiestDay","hourlyAverage","Month","CalendarToday_default","Insights","fetchInsights","insights","Insights_Week","weekStats","Insights_Month","monthStats","Analytics","getQueryParams","Analytics_Header","Analytics_Summary_Summary","Analytics_Insights_Insights","Analytics_Proximity_Proximity","Analytics_Dwell_Dwell","Analytics_RepeatVisitors_RepeatVisitors","handleChange","removeItem","reload","pathname","AppBar_default","position","Tabs_default","centered","Tab_default","Link","to","logout","Login","presenceUname","presencePass","locationUname","locationPass","btoa","setItem","stringify","aesUId","response","status","history","react_router","CssBaseline_default","Paper_default","onSubmit","handleSubmit","FormLabel_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","Button_default","OutlinedTextFields","title","list","noValidate","select","textField","helperText","option","MenuItem_default","marginRight","dense","menu","Map","defineProperty","floorList","open","msg","handleClose","campusName","buildName","floorValue","vertical","horizontal","campuses","buildingList","aesUidString","_this$state","Location_OutlinedTextFields","bulding","Snackbar_default","anchorOrigin","onClose","ContentProps","aria-describedby","autoHideDuration","Auth","App","react_router_dom","path","exact","Boolean","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.15bab4bc.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nimport Grid from '@material-ui/core/Grid';\nimport { Stage } from 'react-konva';\nimport windowSize from 'react-window-size';\nimport UsersLocation from './UsersLocation.jsx';\nimport Search from './Search.jsx';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    maxWidth: '1400px',\n    height: '80vh',\n    width: '90%',\n\n  },\n  media: {\n    // ⚠️ object-fit is not supported by IE 11.\n    objectFit: 'cover',\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: \"100%\",\n    width: \"100%\"\n  }\n\n\n});\n\nclass ImgMediaCard extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floor: this.props.floor,\n      info: []\n    }\n    this.myInput = React.createRef();\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (nextProps.floor && nextProps.campus && nextProps.build) {\n      // Try rebuid by async request\n      try {\n        let url = config.location + \"api/config/v1/maps/image\" + nextProps.imageSrc;\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let res = await axios.get(url, {\n          headers: {\n            Authorization: header,\n          },\n          responseType: 'arraybuffer'\n        });\n        let tmp = \"data:image/png;base64,\" + new Buffer(res.data).toString('base64');\n        this.setState({\n          img: tmp,\n          floor: nextProps.floor\n        });\n\n      } catch (error) {\n        console.log(error)\n        axios.post('/error', {\n          data: error.message \n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n\n  setParamState = (name, param) => {\n    this.setState({\n      [name]: param\n    })\n  }\n\n  showInfo = (x, y) => e =>{\n    let upper = this;\n    this.state.allUser.map((item) => {\n        if (item.mapCoordinate.x === x \n          && item.mapCoordinate.y === y\n          && this.state.floor === item.mapInfo.floorRefId){\n            upper.setState({ info:[item.manufacturer, item.userName, item.macAddress] })\n        }\n    })\n}\n\n    render() {\n\n    const { classes } = this.props;\n    let image;\n\n    if (!this.state.img) {\n      image = (<CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          Please select floor, building and cumpus\n      </Typography>\n      </CardContent>);\n    } else {\n      let width = this.myInput.current.offsetWidth;\n      let height = width / 2;\n      image = (\n        <Stage width={width} height={height}>\n          <UsersLocation\n            floor={this.state.floor}\n            src={this.state.img}\n            width={width} height={height}\n            updateParam={this.setParamState}\n            redDot={this.state.redDot}\n            notification={this.props.notification}\n            showInfo={this.showInfo} />\n        </Stage>);\n    }\n    return (\n      <Card className={classes.card} >\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-between\"\n        >\n          <div ref={this.myInput} className={classes.container} >\n            {image}\n            <Search  \n            users={this.state.allUser} \n            redDot={this.setParamState} \n            setFloor={this.props.setFloor}\n            info={this.state.info} />\n          </div>\n        </Grid>\n\n      </Card>\n\n    );\n  }\n}\n\nImgMediaCard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(windowSize(ImgMediaCard));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  containerInput: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n    height: '100%',\n  },\n  scroll: {\n    overflowY: 'scroll',\n    height: '100%',\n  },\n};\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: \"\",\n      listOfsearch: []\n    }\n  }\n\n  handleInput = (event) => {\n    this.setState({ userInput: event.target.value });\n  }\n\n  validate = (str) => {\n    if (str.match(/^([a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/g) ||\n      str.match(/^([a-z]{3,8})$/g)) {\n      return true;\n    }\n    return false;\n  }\n\n  handleClick = () => {\n\n    let tmp = this.state.userInput;\n    let verdict = this.validate(tmp)\n    let upper = this;\n\n    if (tmp === \"\") { return; }\n    // validation if floor is choosen\n    if (!this.props.users) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Pls, choose floor\"],\n        userInput: \"\"\n      }));\n      return\n    }\n    if (!verdict) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Wrong input\"],\n        userInput: \"\"\n      }));\n      return;\n    }\n    // search from array macaddres of username\n    let res = \"\";\n    this.props.users.map(item => {\n\n      if (item.userName === tmp) {\n        res = item.userName + \" is at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      } else if (item.macAddress === tmp) {\n        res = \"Find \" + item.macAddress + \" at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      }\n    })\n    // handle wrong input\n    if (res === \"\") {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, prevState.userInput + \" not found\"],\n        userInput: \"\"\n      }));\n    } else {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, res],\n        userInput: \"\"\n      }));\n    }\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.info !== this.props.info){\n      this.addInfo(nextProps.info);\n    }\n  }\n\n  addInfo = (param) => {\n    let upper = this;\n    param.map(item => {\n      upper.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, item]\n      }))\n    })\n  }\n\n  handleKeyPress = (event) => {\n    if (event.key == 'Enter') {\n      this.handleClick();\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.containerInput}>\n        <CardContent className={classes.scroll}>\n          {this.state.listOfsearch.map((item, index) => {\n\n            return (<Typography key={index} component=\"p\">\n              {item}\n            </Typography>);\n          })}\n        </CardContent>\n        <Paper className={classes.root} elevation={1}>\n          <InputBase className={classes.input}\n            placeholder=\"Search macaddress or login\"\n            onChange={this.handleInput}\n            value={this.state.userInput}\n            onKeyPress={this.handleKeyPress} />\n          <IconButton className={classes.iconButton} aria-label=\"Search\" onClick={this.handleClick} >\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n      </div>\n\n    );\n  }\n}\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Search);\n","import React from 'react';\nimport { Image } from 'react-konva';\n\n\nclass URLImage extends React.Component {\n    state = {\n      image: null\n    };\n    componentDidMount() {\n      this.loadImage();\n    }\n    componentDidUpdate(oldProps) {\n      if (oldProps.src !== this.props.src) {\n        this.loadImage();\n      }\n    }\n    componentWillUnmount() {\n      this.image.removeEventListener('load', this.handleLoad);\n    }\n    loadImage() {\n      // save to \"this\" to remove \"load\" handler on unmount\n      this.image = new window.Image();\n      this.image.src = this.props.src;\n      this.image.addEventListener('load', this.handleLoad);\n    }\n    handleLoad = () => {\n      // after setState react-konva will update canvas and redraw the layer\n      // because \"image\" property is changed\n      this.setState({\n        image: this.image,\n        width: this.image.width,\n        height: this.image.height,\n      });\n      // if you keep same image object during source updates\n      // you will have to update layer manually:\n      // this.imageNode.getLayer().batchDraw();\n    };\n    render() {\n      return (\n        <Image\n          x={this.props.x}\n          y={this.props.y}\n          width={this.props.width}\n          height={this.props.height}\n          image={this.state.image}\n          ref={node => {\n            this.imageNode = node;\n          }}\n        />\n      );\n    }\n  }\n\n  export default URLImage;","import React from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport URLImage from './URLImage.jsx';\nimport { Layer, Rect } from 'react-konva';\n\nclass UsersLocation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            current: [],\n            imgWidth: \"\",\n            imgHeight: \"\",\n            macAddr: [],\n            interval: undefined\n        }\n        this.scaleWidth = this.scaleWidth.bind(this);\n        this.scaleHeight = this.scaleHeight.bind(this);\n    }\n\n    updateCurent = () => {\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (this.props.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n    }\n\n    async componentWillReceiveProps(nextProps) {\n        let width = await this.scaleWidth(nextProps.src, nextProps.width);\n        let height = await this.scaleHeight(nextProps.src, nextProps.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (nextProps.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n\n    }\n\n    diplayNotification = (data) => {\n        let arrA = Array.from(data, item => item.macAddress);\n        let arrB = this.state.macAddr\n        let difference = arrA.filter(x => !arrB.includes(x));\n        if (difference.length < 10 && difference.length != 0){\n            this.props.notification(\"new \" + difference.join(\" \"))\n        } \n    }\n\n    request = () => {\n        \n        let url = config.location + \"api/location/v2/clients\";\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let upper = this\n        axios.get(url, {\n            headers: {\n                Authorization: header,\n            }\n        }).then((res) => {\n            upper.props.updateParam(\"allUser\", res.data)\n            this.diplayNotification(res.data)\n            this.setState({\n                users: res.data,\n                macAddr: Array.from(res.data, item => item.macAddress)\n            }, this.updateCurent);\n        }).catch(error => {\n            console.log(error)\n            axios.post('/error', {\n                data: error.message \n              }).catch(function (error) {\n                console.log(error);\n              });\n        });\n    }\n\n    componentDidMount() {\n        this.request();\n        this.setState({interval: setInterval(this.request, 10000)});\n    }\n\n    componentWillUnmount() {\n\n        clearInterval(this.state.interval);\n    }\n\n    async componentWillMount() {\n        let width = await this.scaleWidth(this.props.src, this.props.width);\n        let height = await this.scaleHeight(this.props.src, this.props.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n    }\n\n    scaleWidth(src, width) {\n        let image = new Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(width / image.width);\n            };\n        });\n    }\n\n    scaleHeight(src, height) {\n        let image = new window.Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(height / image.height);\n            };\n        });\n    }\n\n    render() {\n        return (\n            <Layer>\n                <URLImage src={this.props.src} x={0} y={0} width={this.props.width} height={this.props.height} />\n                {this.state.current.map((item, ind) => {\n                    let color = \"green\";\n                    let founded = 1;\n                    if (this.props.redDot && this.props.redDot.mapCoordinate.x ===item.mapCoordinate.x &&\n                        this.props.redDot.mapCoordinate.y === item.mapCoordinate.y){\n                            color = \"red\";\n                            founded = 1.5;\n                        }\n                        \n                    return (<Rect\n                        titile=\"lol\"\n                        key={ind}\n                        x={item.mapCoordinate.x * this.state.scaleWidth}\n                        y={item.mapCoordinate.y * this.state.scaleHeight}\n                        width={(this.props.width/140) * founded}\n                        height={(this.props.width/140) * founded}\n                        fill={color}\n                        onClick={this.props.showInfo(item.mapCoordinate.x, item.mapCoordinate.y)}\n                    />);\n                })}\n            </Layer>\n        );\n    }\n}\n\nexport default UsersLocation;","const config = {\n\n  presence: \"https://cisco-presence.unit.ua/\",\n  location: \"https://cisco-cmx.unit.ua/\"\n\n};\n\nmodule.exports = config;\n","import React, {Component} from 'react';\nimport DateTimeRangeContainer from 'react-advanced-datetimerange-picker';\nimport TextField from '@material-ui/core/TextField';\n// import {FormControl} from 'react-bootstrap';\nimport moment from \"moment\";\nimport {withStyles} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\n// import InputLabel from \"@material-ui/core/InputLabel\";\n\n\nconst styles = theme => ({\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n});\n\n\nclass Datepicker extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tthis.state = {\n\t\t\tstartDate : start,\n\t\t\tendDate : end,\n\t\t};\n\n\t\tlet date = {\n\t\t\tstart: moment(this.state.startDate).format('Y-MM-DD'),\n\t\t\tend: moment(this.state.endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t\tthis.applyCallback = this.applyCallback.bind(this);\n\t}\n\n\tapplyCallback(startDate, endDate){\n\t\tthis.setState({\n\t\t\tstartDate: startDate,\n\t\t\tendDate : endDate,\n\t\t});\n\t\tlet date = {\n\t\t\tstart: moment(startDate).format('Y-MM-DD'),\n\t\t\tend: moment(endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t}\n\n\trender(){\n\t\tconst { classes } = this.props;\n\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tlet ranges = {\n\t\t\t\"Today Only\": [moment(start), moment(end)],\n\t\t\t\"Yesterday Only\": [moment(start).subtract(1, \"days\"), moment(end).subtract(1, \"days\")],\n\t\t\t\"3 Days\": [moment(start).subtract(3, \"days\"), moment(end)]\n\t\t};\n\t\tlet local = { \"format\":\"DD-MM-YYYY\" };\n\t\tlet maxDate = moment(start).add(24, \"hour\")\n\t\treturn(\n\t\t\t<DateTimeRangeContainer\n\t\t\t\tranges={ranges}\n\t\t\t\tstart={this.state.startDate}\n\t\t\t\tend={this.state.endDate}\n\t\t\t\tlocal={local}\n\t\t\t\tmaxDate={maxDate}\n\t\t\t\tapplyCallback={this.applyCallback}\n\t\t\t>\n\t\t\t\t<FormControl className={classes.formControl}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvalue={moment(this.state.startDate).format('Y, MMMM D') + ' - ' + moment(this.state.endDate).format('Y, MMMM D')}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DateTimeRangeContainer>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Datepicker);","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport Datepicker from \"../Shared/Datepicker\";\nimport moment from \"moment\";\nimport '../css/Datepicker.css';\n\n\nconst styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing.unit * 2,\n\t},\n});\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD')\n\t\t};\n\t}\n\n\thandleChangeDate = date => {\n\t\tthis.setState({\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end\n\t\t});\n\t\tlet params = {\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end,\n\t\t\t// floor: this.state.floor\n\t\t};\n\t\tthis.props.handleParams(params);\n\t};\n\n\n\n\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} className={\"wrapper-24\"}>\n\t\t\t\t<Grid item xs={9} md={4}>\n\t\t\t\t\t<Datepicker changeDate={this.handleChangeDate} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Header);","import config from '../config.js'\n\n// const siteId = 1513804707441;\n\nfunction getHeader(){\n\treturn (JSON.parse(localStorage.getItem('cisco_auth'))).presence;\n}\n\nexport function getPresenceParams() {\n\treturn {\n\t\tbaseUrl: config.presence,\n\t\tdata: {\n\t\t\theaders: { Authorization: getHeader()},\n\t\t\tparams: {\n\t\t\t\tsiteId: (JSON.parse(localStorage.getItem('siteId'))).id\n\t\t\t}\n\t\t}\n\t};\n}","import React, { Component } from 'react';\nimport {PieChart, Pie, Cell, Tooltip, ResponsiveContainer} from 'recharts';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Grid} from \"@material-ui/core\";\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\n\tconnected: {\n\t\tname: 'Connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'Passerby',\n\t\tcolor: '#0069fc',\n\t},\n\tvisitors: {\n\t\tname: 'Visitors',\n\t\tcolor: '#ff0043',\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t}\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {BarChart, Bar, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from 'recharts';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\tconnected: {\n\t\tname: 'connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'passerby',\n\t\tcolor: '#0069fc'\n\t},\n\tvisitors: {\n\t\tname: 'visitors',\n\t\tcolor: '#ff0043'\n\t}\n};\n\nclass ChartProximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t};\n\t}\n\n\n\tsetChartData = (chartData, type) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props[type]) {\n\t\t\tif (this.props[type].hasOwnProperty(prop)) {\n\t\t\t\tif (typeof(chartData[key]) == 'undefined') {\n\t\t\t\t\tchartData[key] = {};\n\t\t\t\t}\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tchartData[key][type] = this.props[type][prop];\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart,'connected');\n\t\tchart = this.setChartData(chart,'visitors');\n\t\tchart = this.setChartData(chart,'passerby');\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst typesBars = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Bar\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tfill={keys[type].color}\n\t\t\t\t\t\tfillOpacity={0.8}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Proximity</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<BarChart data={chart}>\n\t\t\t\t\t\t\t\t<CartesianGrid stroke=\"#ccc\"/>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" height={60}/>\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{typesBars}\n\t\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartProximity;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport TotalCount from \"./TotalCount\";\nimport ChartProximity from \"./ChartProximity\";\n\nclass Proximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tvisitorsCount: 0,\n\t\t\tconnectedCount: 0,\n\t\t\tpasserbyCount: 0,\n\t\t\tvisitors: [],\n\t\t\tconnected: [],\n\t\t\tpasserby: []\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\tstartDate: nextProps.startDate,\n\t\t\tendDate: nextProps.endDate\n\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tfetchAll = () => {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\n\n\n\t\tthis.fetchCountVisitors();\n\t\tthis.fetchCountConnected();\n\t\tthis.fetchCountPasserby();\n\t};\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfetchCountVisitors() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitorsCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchCountConnected() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connectedCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchCountPasserby() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerbyCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartProximity visitors={this.state.visitors} connected={this.state.connected} passerby={this.state.passerby} range={this.isRange()} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount visitors={this.state.visitorsCount} connected={this.state.connectedCount} passerby={this.state.passerbyCount}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Proximity;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\n\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\tranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[range].name,\n\t\t\t\t\tvalue: this.props.countDwellTime[range],\n\t\t\t\t\tkey: range\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {AreaChart, Area, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartDwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.dwellTime) {\n\t\t\tif (this.props.dwellTime.hasOwnProperty(prop)) {\n\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let range in this.props.dwellTime[prop]) {\n\t\t\t\t\tif (this.props.dwellTime[prop].hasOwnProperty(range)) {\n\t\t\t\t\t\tdata[keys[range].name] = this.props.dwellTime[prop][range];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\t\tlet ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesAreas = ranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Area\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[range].name}\n\t\t\t\t\t\tstroke={keys[range].color}\n\t\t\t\t\t\tfillOpacity={1}\n\t\t\t\t\t\tfill={\"url(#\" + range + \")\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tconst colorsGradients = ranges.map((range, index) =>\n\t\t\t<linearGradient key={index} id={range} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n\t\t\t\t<stop offset=\"5%\" stopColor={keys[range].color} stopOpacity={0.9}/>\n\t\t\t\t<stop offset=\"95%\" stopColor={keys[range].color} stopOpacity={0}/>\n\t\t\t</linearGradient>\n\t\t);\n\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Dwell Time</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<AreaChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<defs>{colorsGradients}</defs>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesAreas}\n\t\t\t\t\t\t\t</AreaChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartDwell;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport TotalCount from \"./TotalCount\";\nimport ChartDwell from \"./ChartDwell\";\n\nclass Dwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tdwellTime: [],\n\t\t\tcountDwellTime: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\tdwellTime: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchDwellTime();\n\t\tthis.fetchCountDwellTime();\n\t};\n\n\tfetchDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({dwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchCountDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({countDwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartDwell range={this.isRange()} dwellTime={this.state.dwellTime} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount countDwellTime={this.state.countDwellTime} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Dwell;","import React, { Component } from 'react';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport PeopleIcon from '@material-ui/icons/People';\nimport Typography from \"@material-ui/core/Typography\";\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartRepeatVisitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.repeatVisitors) {\n\t\t\tif (this.props.repeatVisitors.hasOwnProperty(prop)) {\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let type in this.props.repeatVisitors[prop]) {\n\t\t\t\t\tif (this.props.repeatVisitors[prop].hasOwnProperty(type)) {\n\t\t\t\t\t\tdata[keys[type].name] = this.props.repeatVisitors[prop][type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesLines = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Line\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tstroke={keys[type].color}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Repeat Visitors</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<LineChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesLines}\n\t\t\t\t\t\t\t</LineChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartRepeatVisitors;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\nimport PeopleIcon from '@material-ui/icons/People';\n\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props.count[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport ChartRepeatVisitors from \"./ChartRepeatVisitors\";\nimport TotalCount from \"./TotalCount\";\n\n\nclass RepeatVisitors extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\trepeatVisitors: [],\n\t\t\tcount: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\trepeatVisitors: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchRepeatVisitors();\n\t\tthis.fetchCount();\n\t};\n\n\tfetchRepeatVisitors() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({repeatVisitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchCount() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({count: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n// <TotalCount countDwellTime={this.state.countDwellTime} />\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartRepeatVisitors range={this.isRange()} repeatVisitors={this.state.repeatVisitors} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount count={this.state.count} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default RepeatVisitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\n\nclass Visitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tready: this.props.data.ready,\n\t\t\tvisitors: this.props.data.visitors,\n\t\t\tconnected: this.props.data.connected,\n\t\t\tpasserby: this.props.data.passerby,\n\t\t\tpercentage: this.props.data.percentage,\n\t\t\tconversionRateL: this.props.data.conversionRateL\n\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState(nextProps);\n\t}\n\n\trenderContent() {\n\t\tif (this.state.ready) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Visitors:</Typography>\n\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.state.visitors}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Connected:</Typography>\n\t\t\t\t\t\t<Typography>{this.state.connected}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Passerby:</Typography>\n\t\t\t\t\t\t<Typography>{this.state.passerby}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected Percentage:</Typography>\n\t\t\t\t\t\t<Typography>{this.state.percentage} %</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Conversion Rate:</Typography>\n\t\t\t\t\t\t<Typography>{this.state.conversionRate} %</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}} className={\"relative\"}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Visitors</Typography>\n\t\t\t\t\t\t\t<PeopleOutlineIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{this.renderContent()}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Visitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nclass DwellTime extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\tpeakHourFormat() {\n\t\ttry {\n\t\t\tlet time = this.props.data.peakSummary.peakHour;\n\t\t\tlet next = this.props.data.peakSummary.peakHour + 1;\n\t\t\tlet formattedTime = time < 10 ? '0' + time + ':00' : time + ':00';\n\t\t\tlet formattedNext = next < 10 ? '0' + next + ':00' : next + ':00';\n\t\t\treturn formattedTime + ' - ' + formattedNext;\n\t\t} catch (err) {\n\n\t\t}\n\t}\n\n\taverageDwelTime() {\n\t\tlet hrs = parseInt(parseInt(this.props.data.averageDwellTime) / 60);\n\t\tlet min = parseInt(this.props.data.averageDwellTime) % 60;\n\t\treturn hrs + ' hrs ' + min + ' min';\n\t}\n\n\trenderContent() {\n\t\tif (this.props.ready) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Average Dwell Time:</Typography>\n\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.averageDwelTime()}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Hour:</Typography>\n\t\t\t\t\t\t<Typography> {this.peakHourFormat()} </Typography>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Users in peak hour:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.peakSummary.peakHourCount}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-30 min:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.dwellLevels.FIVE_TO_THIRTY_MINUTES.count}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">30-60 min:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.dwellLevels.THIRTY_TO_SIXTY_MINUTES.count}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">1-5 hrs:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.dwellLevels.ONE_TO_FIVE_HOURS.count}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-8 hrs:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.dwellLevels.FIVE_TO_EIGHT_HOURS.count}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">8+ hrs:</Typography>\n\t\t\t\t\t\t<Typography>{this.props.data.dwellLevels.EIGHT_PLUS_HOURS.count}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}} className={\"relative\"}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Dwell Time</Typography>\n\t\t\t\t\t\t\t<AccessTimeIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{this.renderContent()}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default DwellTime;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport DevicesIcon from '@material-ui/icons/Devices';\n\nclass Devices extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\trenderContent() {\n\t\tif (this.props.ready) {\n\t\t\tconst propsDevices = this.props.data.devices;\n\t\t\tlet sortedDevices = Object.keys(propsDevices).sort(function(a, b){return propsDevices[b] - propsDevices[a]});\n\t\t\tlet deviceNames = [];\n\t\t\tfor (let prop in sortedDevices) {\n\t\t\t\tif (sortedDevices.hasOwnProperty(prop)) {\n\t\t\t\t\tdeviceNames.push(sortedDevices[prop]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn deviceNames.map((device, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={index} className={\"textRow\"}>\n\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">{device}:</Typography>\n\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.props.data.devices[device]}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}} className={\"relative\"}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Devices</Typography>\n\t\t\t\t\t\t\t<DevicesIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{this.renderContent()}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Devices;","import React, {Component} from 'react';\nimport moment from \"moment\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUp\";\n\nconst types = ['visitors', 'connected', 'passerby'];\n\nclass Prediction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet end = moment(new Date()).format(\"Y-MM-DD\");\n\t\tlet start = moment(new Date()).add(-30, \"days\").format(\"Y-MM-DD\");\n\t\tthis.state = {\n\t\t\tstartDate: start,\n\t\t\tendDate: end,\n\t\t\tvisitors: undefined,\n\t\t\tconnected: undefined,\n\t\t\tpasserby: undefined\n\t\t};\n\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\t}\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tisKeyPresentInObj(key, obj) {\n\t\treturn (typeof (this.state[obj][key]) !== \"undefined\");\n\t}\n\n\tpredict(obj) {\n\t\tif (typeof(this.state[obj]) !== \"undefined\") {\n\t\t\tlet currentKeyDate = moment(this.state.endDate).add(-6, \"days\").format(\"Y-MM-DD\");\n\t\t\tlet i = 0;\n\t\t\tlet counts = [];\n\t\t\twhile (this.isKeyPresentInObj(currentKeyDate, obj)) {\n\t\t\t\tcounts.push(this.state[obj][currentKeyDate]);\n\t\t\t\tcurrentKeyDate = moment(currentKeyDate).add(-7, \"days\").format(\"Y-MM-DD\");\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn parseInt(this.countAverage(counts, i));\n\t\t}\n\t\treturn 0\n\t}\n\n\tcountAverage(array, counts) {\n\t\tlet sum = 0\n\t\tarray.map((number, index) => {\n\t\t\tsum += number;\n\t\t});\n\t\treturn sum / counts;\n\t}\n\n\n\trender() {\n\t\tlet predictions = {};\n\t\ttypes.map((type, index) => {\n\t\t\tpredictions[type] = this.predict(type);\n\t\t});\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Tomorrow</Typography>\n\t\t\t\t\t\t\t<TrendingUpIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Visitors:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.visitors}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.connected}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Passerby:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.passerby}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Prediction;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport Visitors from \"./Visitors\";\nimport DwellTime from \"./DwellTime\";\nimport Devices from \"./Devices\";\nimport Prediction from \"./Prediction\";\n\nclass Summary extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tsummary: undefined\n\t\t};\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate\n\t\t\t},\n\t\t\t() => { this.fetchSummary() });\n\t}\n\n\tfetchSummary = () => {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/kpisummary', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({summary: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tvisitorsData() {\n\t\tif (this.state.summary !== undefined) {\n\t\t\treturn {\n\t\t\t\tconnected: this.state.summary.totalConnectedCount,\n\t\t\t\tpasserby: this.state.summary.totalPasserbyCount,\n\t\t\t\tvisitors: this.state.summary.totalVisitorCount,\n\t\t\t\tpercentage: this.state.summary.connectedPercentage,\n\t\t\t\tconversionRate: this.state.summary.connectedPercentage,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tconnected: undefined,\n\t\t\t\tpasserby: undefined,\n\t\t\t\tvisitors: undefined,\n\t\t\t\tpercentage: undefined,\n\t\t\t\tconversionRate: undefined,\n\t\t\t};\n\t\t}\n\t}\n\n\tdwellData() {\n\t\tif (this.state.summary !== undefined) {\n\t\t\treturn {\n\t\t\t\taverageDwellTime: this.state.summary.averageDwell,\n\t\t\t\tpeakSummary: this.state.summary.peakSummary ? this.state.summary.peakSummary : this.state.summary.peakWeekSummary,\n\t\t\t\tdwellLevels: this.state.summary.averageDwellByLevels\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\taverageDwellTime: undefined,\n\t\t\t\tpeakSummary: undefined,\n\t\t\t\tdwellLevels: undefined\n\t\t\t};\n\t\t}\n\t}\n\n\tdevicesData() {\n\t\tif (this.state.summary !== undefined) {\n\t\t\treturn {devices: this.state.summary.topManufacturers.manufacturerCounts}\n\t\t} else {\n\t\t\treturn {devices: undefined}\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst dataReady = this.state.summary !== undefined;\n\n\t\treturn(\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Visitors\n\t\t\t\t\tready={dataReady}\n\t\t\t\t\tdata={this.visitorsData()}\n\t\t\t\t/>\n\t\t\t\t<DwellTime\n\t\t\t\t\tready={dataReady}\n\t\t\t\t\tdata={this.dwellData()}\n\t\t\t\t/>\n\t\t\t\t<Devices\n\t\t\t\t\tready={dataReady}\n\t\t\t\t\tdata={this.devicesData()}\n\t\t\t\t/>\n\t\t\t\t<Prediction/>\n\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Summary;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport TodayIcon from '@material-ui/icons/Today';\nimport moment from \"moment\";\n\nconst weekDays = ['---', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\nclass Week extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tconnectedHourOutput = () => {\n\t\tlet start = moment(this.props.stats.peakHourDay + ' ' + this.props.stats.peakHour).format('MMMM Do YYYY, HH:mm');\n\t\tlet end = moment(this.props.stats.peakHourDay + ' ' + (this.props.stats.peakHour + 1)).format('HH:mm');\n\t\treturn start + ' - ' + end;\n\t};\n\n\tbusiestHourOutput = () => {\n\t\tif (this.props.stats.busiestHour >= 0) {\n\t\t\tlet start = moment(this.props.stats.peakHourDay + ' ' + this.props.stats.busiestHour).format('HH:mm');\n\t\t\tlet end = moment(this.props.stats.peakHourDay + ' ' + (this.props.stats.busiestHour + 1)).format('HH:mm');\n\t\t\treturn start + ' - ' + end;\n\t\t} else {\n\t\t\treturn '---';\n\t\t}\n\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid item xs={12} md={6} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Week</Typography>\n\t\t\t\t\t\t\t<TodayIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Day:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{moment(this.props.stats.peakDay).format('MMMM Do YYYY')} ({this.props.stats.peakCount} Visitors connected)</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Hour:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.connectedHourOutput()} ({this.props.stats.peakHourCount} Visitors connected)</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Busiest day of week:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{weekDays[this.props.stats.busiestDay]}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Busiest hour:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.busiestHourOutput()}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Hourly average visitors:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{parseInt(this.props.stats.hourlyAverage)}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Week;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\nimport moment from \"moment\";\n\nconst weekDays = ['---', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\nclass Month extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tconnectedHourOutput = () => {\n\t\tlet start = moment(this.props.stats.peakHourDay + ' ' + this.props.stats.peakHour).format('MMMM Do YYYY, HH:mm');\n\t\tlet end = moment(this.props.stats.peakHourDay + ' ' + (this.props.stats.peakHour + 1)).format('HH:mm');\n\t\treturn start + ' - ' + end;\n\t};\n\n\tbusiestHourOutput = () => {\n\t\tif (this.props.stats.busiestHour >= 0) {\n\t\t\tlet start = moment(this.props.stats.peakHourDay + ' ' + this.props.stats.busiestHour).format('HH:mm');\n\t\t\tlet end = moment(this.props.stats.peakHourDay + ' ' + (this.props.stats.busiestHour + 1)).format('HH:mm');\n\t\t\treturn start + ' - ' + end;\n\t\t} else {\n\t\t\treturn '---';\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid item xs={12} md={6} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Month</Typography>\n\t\t\t\t\t\t\t<CalendarTodayIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Day:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{moment(this.props.stats.peakDay).format('MMMM Do YYYY')} ({this.props.stats.peakCount} Visitors connected)</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Hour:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.connectedHourOutput()} ({this.props.stats.peakHourCount} Visitors connected)</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Busiest day of week:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{weekDays[this.props.stats.busiestDay]}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Busiest hour:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.busiestHourOutput()}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Hourly average visitors:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{parseInt(this.props.stats.hourlyAverage)}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Month;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport Week from \"./Week\";\nimport Month from \"./Month\";\n\n\nclass Insights extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tinsights: undefined\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate\n\t\t\t},\n\t\t\t() => { this.fetchInsights() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchInsights = () => {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/insights', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({insights: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\taxios.post('/error', {\n\t\t\t\t\tdata: error.message\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\n\t\tif (typeof (this.state.insights) === 'undefined') {\n\t\t\treturn (<div></div>);\n\t\t}\n\n\t\treturn(\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Week stats={this.state.insights.weekStats}/>\n\t\t\t\t<Month stats={this.state.insights.monthStats}/>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n\n}\n\nexport default Insights;\n\n","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport moment from \"moment\";\n\nimport Header from \"./Header\";\nimport Proximity from \"./Proximity/Proximity\";\nimport Dwell from \"./Dwell/Dwell\";\nimport RepeatVisitors from \"./RepeatVisitors/RepeatVisitors\";\nimport Summary from \"./Summary/Summary\";\nimport Insights from \"./Insights/Insights\";\n\nclass Analytics extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD'),\n\t\t};\n\t}\n\n\tgetQueryParams = params => {\n\t\tthis.setState({\n\t\t\t\tstartDate: params.startDate,\n\t\t\t\tendDate: params.endDate\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={\"wrapper-md-24\"}>\n\t\t\t\t<Grid container direction={\"column\"}>\n\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24\"}>\n\t\t\t\t\t\t<Header handleParams={this.getQueryParams}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Summary startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Insights       startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Proximity      startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Dwell          startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<RepeatVisitors startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\n\n\t}\n}\n\nexport default Analytics;\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { Link } from 'react-router-dom';\n\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: 0 };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  logout(){\n    localStorage.removeItem('cisco_auth');\n    window.location.reload();\n  }\n\n  render() {\n    if (this.props.location.pathname === \"/login\"){\n      return (<div></div>);\n    }\n    return (\n      <AppBar position=\"static\">\n        <Tabs value={this.state.value} onChange={this.handleChange}\n          centered >\n          <Tab label=\"Analytics\" component={Link} to=\"/\" />\n          <Tab label=\"Location\" component={Link} to=\"/location\" />\n          <Tab label=\"Log Out\" onClick={this.logout.bind(this)} />\n        </Tabs>\n      </AppBar>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios/index';\nimport config from '../config.js'\n\n// matrerial ui and css\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport '../css/Login.css';\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      presenceUname: \"\",\n      presencePass: \"\",\n      locationUname: \"\",\n      locationPass: \"\",\n      error: false,\n    };\n  }\n\n  handleChange(event) {\n    if (\"presenceUname\" === event.target.name){\n      this.setState({ presenceUname:  event.target.value})\n    } else if (\"presencePass\" === event.target.name){\n      this.setState({ presencePass:  event.target.value})\n    } else if (\"locationUname\" === event.target.name){\n      this.setState({ locationUname:  event.target.value})\n    } else if (\"locationPass\" === event.target.name){\n      this.setState({ locationPass:  event.target.value})\n    }\n  }\n\n async handleSubmit() {\n   if (this.state.presencePass === \"\" || this.state.presenceUname === \"\" \n        || this.state.locationPass === \"\" || this.state.locationUname === \"\"){\n     return ;\n   }\n  try{\n    let header = \"Base \" + btoa(this.state.presenceUname + \":\" + this.state.presencePass)\n    let res = await axios.get(config.presence + 'api/config/v1/sites', {\n            headers: {\n                Authorization: header\n            }\n        });\n    localStorage.setItem('siteId', JSON.stringify({\n      id: res.data[0].aesUId,\n    }));\n    localStorage.setItem('cisco_auth', JSON.stringify({\n      presence: \"Base \" + btoa(this.state.presenceUname + \":\" + this.state.presencePass),\n      location: \"Base \" + btoa(this.state.locationUname + \":\" + this.state.locationPass),\n    }));\n    \n    window.location.reload();\n  } catch (error){\n    if (error.response.status == 401){\n      localStorage.removeItem('cisco_auth');\n      this.props.history.push(\"/login\");\n      this.setState({ error: true })\n    }\n    axios.post('/error', {\n      data: error.message \n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n    \n  }\n\n  render() {\n    if (localStorage.getItem('cisco_auth')){\n      return (<Redirect to='/' />);\n    }\n    return (\n      <div className=\"LoginWrapper\">\n        <div className=\"Main\">\n          <CssBaseline />\n          <Paper className=\"Paper\">\n            <Typography component=\"h1\" variant=\"h5\">\n              Credentials\n            </Typography>\n\n              <form className=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n                <div className=\"InerBox\">\n                  <FormLabel component=\"legend\">Cisco_CMX_Locate</FormLabel>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"text\">Username</InputLabel>\n                  <Input error={this.state.error} required={true} name=\"locationUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">Password</InputLabel>\n                  <Input error={this.state.error} required={true} name=\"locationPass\" type=\"password\"  autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n                </FormControl>\n\n            </div>\n            <div className=\"InerBox\">\n            <FormLabel component=\"legend\">Cisco_CMX_Presence</FormLabel>\n\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"text\">Username</InputLabel>\n                <Input error={this.state.error} required={true} name=\"presenceUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Password</InputLabel>\n                <Input error={this.state.error} required={true} name=\"presencePass\" type=\"password\" autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              </div>\n              <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className=\"Submit\"\n                onClick={this.handleSubmit.bind(this)}\n                \n                >\n                Submit\n              </Button>\n            </form>\n\n\n          </Paper>\n      </div>\n  </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dense: {\n    marginTop: 16,\n  },\n  menu: {\n    width: 200,\n  },\n});\n\n\nclass OutlinedTextFields extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      list: this.props.name,\n      value: \"\"\n    };\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.value){\n      this.setState({\n        value: nextProps.value\n      })\n    } else {\n      this.setState({\n        list: nextProps.name.sort()\n      })\n    }\n  }\n\n  handleChange = () => event => {\n    this.setState({\n      value: event.target.value,\n    });\n    this.props.handleChange(this.props.title, event.target.value);\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n\n        <TextField\n          id=\"outlined-select-currency\"\n          select\n          label=\"Select\"\n          className={classes.textField}\n          value={this.state.value}\n          onChange={this.handleChange()}\n          helperText={\"Please select your \" + this.props.title}\n          margin=\"normal\"\n          variant=\"outlined\"\n        >\n          {this.state.list.map((option, index) => (\n            <MenuItem key={index} value={option}>\n              {option}\n            </MenuItem>\n          ))}\n        </TextField>\n      </form>\n    );\n  }\n}\n\nOutlinedTextFields.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OutlinedTextFields);\n","import React, { Component } from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport Grid from '@material-ui/core/Grid';\nimport OutlinedTextFields from './OutlinedTextFields.jsx';\nimport ImgMediaCard from './ImgMediaCard.jsx';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\n\nclass Map extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floorList: [],\n      campusName: [],\n      buildName: [],\n      floorValue: \"\",\n      open: false,\n      vertical: 'bottom',\n      horizontal: 'left',\n      msg: \"test\"\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      let url = config.location + 'api/config/v1/maps';\n      let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n      let res = await axios.get(url, {\n        headers: {\n          Authorization: header,\n        }\n      });\n      let upper = this;\n      res.data.campuses.map((item) => {\n        upper.setState(prevState => ({\n          campusName: [...prevState.campusName, item.name],\n        }))\n        item.buildingList.map(item => {\n          upper.setState(prevState => ({\n            buildName: [...prevState.buildName, item.name]\n          }))\n          item.floorList.map(item => {\n            upper.setState(prevState => ({\n              floorList: [...prevState.floorList, item.name],\n              [item.name]: item.aesUidString\n            }))\n          })\n        })\n      });\n\n    } catch (error) {\n      console.log(error)\n      axios.post('/error', {\n        data: error.message \n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n  }\n\n  handleChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  setFloor = (param) => {\n    this.state.floorList.map(item => {\n      if (this.state[item] === param) {\n        this.setState({\n          floor: item,\n        })\n      }\n    })\n  } \n\n  handleClick = (param) => {\n    this.setState({ open: true, msg: param });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  }\n\n  render() {\n    const { vertical, horizontal, open, msg } = this.state;\n    return (\n      <div>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          <OutlinedTextFields name={this.state.campusName} title=\"campus\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.buildName} title=\"bulding\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.floorList} title=\"floor\" handleChange={this.handleChange} value={this.state.floor} />\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"flex-start\"\n        >\n          <ImgMediaCard\n            imageSrc={\"/\" + this.state.campus + \"/\" + this.state.bulding + \"/\" + this.state.floor}\n            floor={this.state[this.state.floor]}\n            campus={this.state.campus}\n            build={this.state.bulding}\n            setFloor={this.setFloor}\n            notification={this.handleClick}\n          />\n          <Snackbar\n            anchorOrigin={{ vertical, horizontal }}\n            open={open}\n            onClose={this.handleClose}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            autoHideDuration={3000}\n            message={<span id=\"message-id\">{ msg }</span>}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Map;\n","import React, { Component } from 'react';\nimport { Route, Redirect, BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Analytics from './Analytics/Analytics.jsx';\nimport Header from './Layout/Header.jsx';\nimport Login from './Layout/Login.jsx';\nimport Map from './Location/Map.jsx';\n\nlet Auth = (Component) => {\n    if (!localStorage.getItem('cisco_auth')) {\n        return () => (<Redirect to='/login' />);\n    }\n    return () => (<Component />);\n};\n\n\nclass App extends Component {\n    \n    \n\n    render() {\n        return (\n            <BrowserRouter>\n                <Route path={\"/\"} component={Header} />\n                <Route exact path={\"/\"} component={Auth(Analytics)} />\n                <Route exact path={\"/location\"} component={Auth(Map)} />\n                <Route path={\"/login\"} component={Login} />\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React  from 'react';\nimport ReactDOM from 'react-dom';\n// import { BrowserRouter } from 'react-router-dom';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport './style.css';\n\nReactDOM.render(\n    <App />,\n   document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}