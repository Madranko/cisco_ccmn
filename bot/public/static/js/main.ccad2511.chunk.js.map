{"version":3,"sources":["Location/ImgMediaCard.jsx","Location/Search.jsx","Location/URLImage.jsx","Location/UsersLocation.jsx","config.js","Shared/Datepicker.jsx","Analytics/Header.jsx","requests/credentials.js","Analytics/Proximity/TotalCount.jsx","Analytics/Proximity/ChartProximity.jsx","Analytics/Proximity/Proximity.jsx","Analytics/Dwell/TotalCount.jsx","Analytics/Dwell/ChartDwell.jsx","Analytics/Dwell/Dwell.jsx","Analytics/RepeatVisitors/ChartRepeatVisitors.jsx","Analytics/RepeatVisitors/TotalCount.jsx","Analytics/RepeatVisitors/RepeatVisitors.jsx","Analytics/Summary/Visitors.jsx","Analytics/Summary/DwellTime.jsx","Analytics/Summary/Devices.jsx","Analytics/Summary/Prediction.jsx","Analytics/Summary/Summary.jsx","Analytics/Analytics.jsx","Layout/Header.jsx","Layout/Login.jsx","Location/OutlinedTextFields.jsx","Location/Map.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["ImgMediaCard","props","_this","Object","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","setParamState","name","param","setState","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","showInfo","x","y","e","upper","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","state","allUser","map","item","mapCoordinate","floor","mapInfo","floorRefId","console","log","manufacturer","userName","macAddress","info","myInput","React","createRef","nextProps","url","config","location","imageSrc","header","JSON","parse","localStorage","getItem","axios","get","headers","Authorization","responseType","res","tmp","Buffer","data","toString","img","_context","t0","image","classes","width","current","offsetWidth","height","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","react_konva__WEBPACK_IMPORTED_MODULE_17__","_UsersLocation_jsx__WEBPACK_IMPORTED_MODULE_19__","src","updateParam","redDot","notification","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15___default","gutterBottom","variant","component","_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13___default","className","card","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_16___default","container","direction","justify","ref","_Search_jsx__WEBPACK_IMPORTED_MODULE_20__","users","setFloor","Component","withStyles","theme","display","maxWidth","media","objectFit","flexDirection","justifyContent","windowSize","Search","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","handleInput","event","userInput","target","value","validate","str","match","handleClick","verdict","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","mapHierarchyString","split","prevState","listOfsearch","concat","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","addInfo","handleKeyPress","key","react__WEBPACK_IMPORTED_MODULE_7___default","containerInput","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_13___default","scroll","index","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9___default","root","elevation","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","input","placeholder","onChange","onKeyPress","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","iconButton","aria-label","onClick","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_12___default","padding","alignItems","marginLeft","flex","divider","margin","overflowY","URLImage","handleLoad","loadImage","oldProps","removeEventListener","window","Image","addEventListener","_this2","react_default","ReactKonva","node","imageNode","UsersLocation","classCallCheck","possibleConstructorReturn","getPrototypeOf","updateCurent","toConsumableArray","diplayNotification","arrA","Array","from","arrB","macAddr","difference","filter","includes","length","join","request","assertThisInitialized","then","catch","error","imgWidth","imgHeight","scaleWidth","bind","scaleHeight","_this3","setInterval","Promise","resolve","reject","onload","_this4","Location_URLImage","ind","color","founded","titile","fill","module","exports","presence","Datepicker","now","Date","start","moment","getFullYear","getMonth","getDate","end","add","subtract","startDate","endDate","date","format","changeDate","applyCallback","ranges","Today Only","Yesterday Only","3 Days","maxDate","dist_default","local","FormControl_default","formControl","TextField_default","spacing","unit","Header","handleChangeDate","params","handleParams","Grid_default","xs","md","Shared_Datepicker","flexWrap","selectEmpty","marginTop","siteId","getPresenceParams","baseUrl","types","keys","connected","passerby","visitors","RADIAN","Math","PI","renderCustomizedLabel","_ref","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","textAnchor","dominantBaseline","toFixed","TotalCount","hideData","type","obj","push","buildData","legendButtons","style","backgroundColor","opacity","Card_default","CardContent_default","index_es","Poll_default","Typography_default","es6","onMouseEnter","onPieEnter","labelLine","label","entry","ChartProximity","setChartData","chartData","prop","hasOwnProperty","time","RenderBrush","range","dataKey","stroke","chart","typesBars","fillOpacity","Proximity","fetchAll","fetchConnected","fetchPasserby","fetchVisitors","fetchCountVisitors","fetchCountConnected","fetchCountPasserby","buildQueryDateParams","isRange","visitorsCount","connectedCount","passerbyCount","nextContext","timeSection","objectSpread","result","_this5","_this6","_this7","_this8","Proximity_ChartProximity","Proximity_TotalCount","FIVE_TO_THIRTY_MINUTES","THIRTY_TO_SIXTY_MINUTES","ONE_TO_FIVE_HOURS","FIVE_TO_EIGHT_HOURS","EIGHT_PLUS_HOURS","showPercent","countDwellTime","AccessTime_default","ChartDwell","dwellTime","rangesAreas","colorsGradients","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","top","right","left","bottom","strokeDasharray","Dwell","fetchDwellTime","fetchCountDwellTime","Dwell_ChartDwell","Dwell_TotalCount","DAILY","WEEKLY","OCCASIONAL","FIRST_TIME","YESTERDAY","ChartRepeatVisitors","repeatVisitors","rangesLines","People_default","count","RepeatVisitors","fetchRepeatVisitors","fetchCount","RepeatVisitors_ChartRepeatVisitors","RepeatVisitors_TotalCount","Visitors","sm","PeopleOutline_default","fontSize","precentage","conversionRate","DwellTime","peakSummary","peakHour","next","err","parseInt","averageDwellTime","averageDwelTime","peakHourFormat","peakHourCount","dwellLevels","Devices","propsDevices","devices","sortedDevices","sort","b","deviceNames","device","Devices_default","Prediction","undefined","dates","currentKeyDate","i","counts","isKeyPresentInObj","countAverage","array","sum","number","predictions","predict","TrendingUp_default","Summary","fetchSummary","summary","Summary_Visitors","totalConnectedCount","totalPasserbyCount","totalVisitorCount","connectedPercentage","Summary_DwellTime","averageDwell","peakWeekSummary","averageDwellByLevels","Summary_Devices","topManufacturers","manufacturerCounts","Summary_Prediction","Analytics","getQueryParams","Analytics_Header","Analytics_Summary_Summary","Analytics_Proximity_Proximity","Analytics_Dwell_Dwell","Analytics_RepeatVisitors_RepeatVisitors","handleChange","removeItem","reload","pathname","AppBar_default","position","Tabs_default","centered","Tab_default","Link","to","logout","Login","presenceUname","presencePass","locationUname","locationPass","setItem","stringify","aesUId","response","status","history","btoa","react_router","CssBaseline_default","Paper_default","onSubmit","handleSubmit","FormLabel_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","Button_default","OutlinedTextFields","title","list","noValidate","select","textField","helperText","option","MenuItem_default","marginRight","dense","menu","Map","defineProperty","floorList","open","msg","handleClose","campusName","buildName","floorValue","vertical","horizontal","campuses","buildingList","aesUidString","_this$state","Location_OutlinedTextFields","campus","bulding","Snackbar_default","anchorOrigin","onClose","ContentProps","aria-describedby","autoHideDuration","message","Auth","App","react_router_dom","path","exact","Boolean","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ccad2511.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nimport Grid from '@material-ui/core/Grid';\nimport { Stage } from 'react-konva';\nimport windowSize from 'react-window-size';\nimport UsersLocation from './UsersLocation.jsx';\nimport Search from './Search.jsx';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    maxWidth: '1400px',\n    height: '80vh',\n    width: '90%',\n\n  },\n  media: {\n    // ⚠️ object-fit is not supported by IE 11.\n    objectFit: 'cover',\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: \"100%\",\n    width: \"100%\"\n  }\n\n\n});\n\nclass ImgMediaCard extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floor: this.props.floor,\n      info: []\n    }\n    this.myInput = React.createRef();\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (nextProps.floor) {\n      // Try rebuid by async request\n      try {\n        let url = config.location + \"api/config/v1/maps/image\" + nextProps.imageSrc;\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let res = await axios.get(url, {\n          headers: {\n            Authorization: header,\n          },\n          responseType: 'arraybuffer'\n        });\n        let tmp = \"data:image/png;base64,\" + new Buffer(res.data).toString('base64');\n        this.setState({\n          img: tmp,\n          floor: nextProps.floor\n        });\n\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n\n  setParamState = (name, param) => {\n    this.setState({\n      [name]: param\n    })\n  }\n\n  showInfo = (x, y) => e =>{\n    let upper = this;\n    this.state.allUser.map((item) => {\n        if (item.mapCoordinate.x === x \n          && item.mapCoordinate.y === y\n          && this.state.floor === item.mapInfo.floorRefId){\n            console.log(item.manufacturer, item.userName, item.macAddress)\n            upper.setState({ info:[item.manufacturer, item.userName, item.macAddress] })\n        }\n    })\n}\n\n    render() {\n\n    const { classes } = this.props;\n    let image;\n\n    if (!this.state.img) {\n      image = (<CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          Please select floor, building and cumpus\n      </Typography>\n      </CardContent>);\n    } else {\n      let width = this.myInput.current.offsetWidth;\n      let height = width / 2;\n      image = (\n        <Stage width={width} height={height}>\n          <UsersLocation\n            floor={this.state.floor}\n            src={this.state.img}\n            width={width} height={height}\n            updateParam={this.setParamState}\n            redDot={this.state.redDot}\n            notification={this.props.notification}\n            showInfo={this.showInfo} />\n        </Stage>);\n    }\n    return (\n      <Card className={classes.card} >\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-between\"\n        >\n          <div ref={this.myInput} className={classes.container} >\n            {image}\n            <Search  \n            users={this.state.allUser} \n            redDot={this.setParamState} \n            setFloor={this.props.setFloor}\n            info={this.state.info} />\n          </div>\n        </Grid>\n\n      </Card>\n\n    );\n  }\n}\n\nImgMediaCard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(windowSize(ImgMediaCard));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  containerInput: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n    height: '100%',\n  },\n  scroll: {\n    overflowY: 'scroll',\n    height: '100%',\n  },\n};\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: \"\",\n      listOfsearch: []\n    }\n  }\n\n  handleInput = (event) => {\n    this.setState({ userInput: event.target.value });\n  }\n\n  validate = (str) => {\n    if (str.match(/^([a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/g) ||\n      str.match(/^([a-z]{3,8})$/g)) {\n      return true;\n    }\n    return false;\n  }\n\n  handleClick = () => {\n\n    let tmp = this.state.userInput;\n    let verdict = this.validate(tmp)\n    let upper = this;\n\n    if (tmp === \"\") { return; }\n    // validation if floor is choosen\n    if (!this.props.users) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Pls, choose floor\"],\n        userInput: \"\"\n      }));\n      return\n    }\n    if (!verdict) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Wrong input\"],\n        userInput: \"\"\n      }));\n      return;\n    }\n    // search from array macaddres of username\n    let res = \"\";\n    this.props.users.map(item => {\n      // console.log(item.mapInfo.floorRefId)\n      // console.log(item.userName)\n      if (item.userName === tmp) {\n        res = item.userName + \" is at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      } else if (item.macAddress === tmp) {\n        res = \"Find \" + item.macAddress + \" at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      }\n    })\n    // handle wrong input\n    if (res === \"\") {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, prevState.userInput + \" not found\"],\n        userInput: \"\"\n      }));\n    } else {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, res],\n        userInput: \"\"\n      }));\n    }\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.info !== this.props.info){\n      this.addInfo(nextProps.info);\n    }\n  }\n\n  addInfo = (param) => {\n    let upper = this;\n    param.map(item => {\n      upper.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, item]\n      }))\n    })\n  }\n\n  handleKeyPress = (event) => {\n    if (event.key == 'Enter') {\n      this.handleClick();\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.containerInput}>\n        <CardContent className={classes.scroll}>\n          {this.state.listOfsearch.map((item, index) => {\n\n            return (<Typography key={index} component=\"p\">\n              {item}\n            </Typography>);\n          })}\n        </CardContent>\n        <Paper className={classes.root} elevation={1}>\n          <InputBase className={classes.input}\n            placeholder=\"Search macaddress or login\"\n            onChange={this.handleInput}\n            value={this.state.userInput}\n            onKeyPress={this.handleKeyPress} />\n          <IconButton className={classes.iconButton} aria-label=\"Search\" onClick={this.handleClick} >\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n      </div>\n\n    );\n  }\n}\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Search);\n","import React from 'react';\nimport { Image } from 'react-konva';\n\n\nclass URLImage extends React.Component {\n    state = {\n      image: null\n    };\n    componentDidMount() {\n      this.loadImage();\n    }\n    componentDidUpdate(oldProps) {\n      if (oldProps.src !== this.props.src) {\n        this.loadImage();\n      }\n    }\n    componentWillUnmount() {\n      this.image.removeEventListener('load', this.handleLoad);\n    }\n    loadImage() {\n      // save to \"this\" to remove \"load\" handler on unmount\n      this.image = new window.Image();\n      this.image.src = this.props.src;\n      this.image.addEventListener('load', this.handleLoad);\n    }\n    handleLoad = () => {\n      // after setState react-konva will update canvas and redraw the layer\n      // because \"image\" property is changed\n      this.setState({\n        image: this.image,\n        width: this.image.width,\n        height: this.image.height,\n      });\n      // if you keep same image object during source updates\n      // you will have to update layer manually:\n      // this.imageNode.getLayer().batchDraw();\n    };\n    render() {\n      return (\n        <Image\n          x={this.props.x}\n          y={this.props.y}\n          width={this.props.width}\n          height={this.props.height}\n          image={this.state.image}\n          ref={node => {\n            this.imageNode = node;\n          }}\n        />\n      );\n    }\n  }\n\n  export default URLImage;","import React from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport URLImage from './URLImage.jsx';\nimport { Layer, Rect } from 'react-konva';\n\nclass UsersLocation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            current: [],\n            imgWidth: \"\",\n            imgHeight: \"\",\n            macAddr: []\n        }\n        this.scaleWidth = this.scaleWidth.bind(this);\n        this.scaleHeight = this.scaleHeight.bind(this);\n    }\n\n    updateCurent = () => {\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (this.props.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n    }\n\n    async componentWillReceiveProps(nextProps) {\n        let width = await this.scaleWidth(nextProps.src, nextProps.width);\n        let height = await this.scaleHeight(nextProps.src, nextProps.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (nextProps.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n\n    }\n\n    diplayNotification = (data) => {\n        let arrA = Array.from(data, item => item.macAddress);\n        let arrB = this.state.macAddr\n        let difference = arrA.filter(x => !arrB.includes(x));\n        console.log(difference);\n        if (difference.length < 10 && difference.length != 0){\n            this.props.notification(\"new \" + difference.join(\" \"))\n        } \n    }\n\n    request = () => {\n        \n        let url = config.location + \"api/location/v2/clients\";\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let upper = this\n        axios.get(url, {\n            headers: {\n                Authorization: header,\n            }\n        }).then((res) => {\n            upper.props.updateParam(\"allUser\", res.data)\n            // console.log(res.data)\n            this.diplayNotification(res.data)\n            this.setState({\n                users: res.data,\n                macAddr: Array.from(res.data, item => item.macAddress)\n            }, this.updateCurent);\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n\n    componentDidMount() {\n        this.request();\n        setInterval(this.request, 10000);\n    }\n\n    async componentWillMount() {\n        let width = await this.scaleWidth(this.props.src, this.props.width);\n        let height = await this.scaleHeight(this.props.src, this.props.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n    }\n\n    scaleWidth(src, width) {\n        let image = new Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(width / image.width);\n            };\n        });\n    }\n\n    scaleHeight(src, height) {\n        let image = new window.Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(height / image.height);\n            };\n        });\n    }\n\n    // showInfo = (x, y) => e =>{\n    //     this.state.current.map((item) => {\n    //         if (item.mapCoordinate.x == x && item.mapCoordinate.y == y){\n    //             console.log(item.manufacturer, item.userName, item.macAddress)\n    //         }\n    //     })\n    // }\n\n    render() {\n        return (\n            <Layer>\n                <URLImage src={this.props.src} x={0} y={0} width={this.props.width} height={this.props.height} />\n                {this.state.current.map((item, ind) => {\n                    let color = \"green\";\n                    let founded = 1;\n                    if (this.props.redDot && this.props.redDot.mapCoordinate.x ===item.mapCoordinate.x &&\n                        this.props.redDot.mapCoordinate.y === item.mapCoordinate.y){\n                            color = \"red\";\n                            founded = 1.5;\n                        }\n                        \n                    return (<Rect\n                        titile=\"lol\"\n                        key={ind}\n                        x={item.mapCoordinate.x * this.state.scaleWidth}\n                        y={item.mapCoordinate.y * this.state.scaleHeight}\n                        width={(this.props.width/140) * founded}\n                        height={(this.props.width/140) * founded}\n                        fill={color}\n                        onClick={this.props.showInfo(item.mapCoordinate.x, item.mapCoordinate.y)}\n                    />);\n                })}\n            </Layer>\n        );\n    }\n}\n\nexport default UsersLocation;","const config = {\n\n  presence: \"https://cisco-presence.unit.ua/\",\n  location: \"https://cisco-cmx.unit.ua/\"\n\n};\n\nmodule.exports = config;\n","import React, {Component} from 'react';\nimport DateTimeRangeContainer from 'react-advanced-datetimerange-picker';\nimport TextField from '@material-ui/core/TextField';\n// import {FormControl} from 'react-bootstrap';\nimport moment from \"moment\";\nimport {withStyles} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\n// import InputLabel from \"@material-ui/core/InputLabel\";\n\n\nconst styles = theme => ({\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n});\n\n\nclass Datepicker extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tthis.state = {\n\t\t\tstartDate : start,\n\t\t\tendDate : end,\n\t\t};\n\n\t\tlet date = {\n\t\t\tstart: moment(this.state.startDate).format('Y-MM-DD'),\n\t\t\tend: moment(this.state.endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t\tthis.applyCallback = this.applyCallback.bind(this);\n\t}\n\n\tapplyCallback(startDate, endDate){\n\t\tthis.setState({\n\t\t\tstartDate: startDate,\n\t\t\tendDate : endDate,\n\t\t});\n\t\tlet date = {\n\t\t\tstart: moment(startDate).format('Y-MM-DD'),\n\t\t\tend: moment(endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t}\n\n\trender(){\n\t\tconst { classes } = this.props;\n\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tlet ranges = {\n\t\t\t\"Today Only\": [moment(start), moment(end)],\n\t\t\t\"Yesterday Only\": [moment(start).subtract(1, \"days\"), moment(end).subtract(1, \"days\")],\n\t\t\t\"3 Days\": [moment(start).subtract(3, \"days\"), moment(end)]\n\t\t};\n\t\tlet local = { \"format\":\"DD-MM-YYYY\" };\n\t\tlet maxDate = moment(start).add(24, \"hour\")\n\t\treturn(\n\t\t\t<DateTimeRangeContainer\n\t\t\t\tranges={ranges}\n\t\t\t\tstart={this.state.startDate}\n\t\t\t\tend={this.state.endDate}\n\t\t\t\tlocal={local}\n\t\t\t\tmaxDate={maxDate}\n\t\t\t\tapplyCallback={this.applyCallback}\n\t\t\t>\n\t\t\t\t<FormControl className={classes.formControl}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvalue={moment(this.state.startDate).format('Y, MMMM D') + ' - ' + moment(this.state.endDate).format('Y, MMMM D')}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DateTimeRangeContainer>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Datepicker);","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport Datepicker from \"../Shared/Datepicker\";\nimport moment from \"moment\";\nimport '../css/Datepicker.css';\n\n\nconst styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing.unit * 2,\n\t},\n});\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD')\n\t\t};\n\t}\n\n\thandleChangeDate = date => {\n\t\tthis.setState({\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end\n\t\t});\n\t\tlet params = {\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end,\n\t\t\t// floor: this.state.floor\n\t\t};\n\t\tthis.props.handleParams(params);\n\t};\n\n\n\n\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} className={\"wrapper-24\"}>\n\t\t\t\t<Grid item xs={9} md={4}>\n\t\t\t\t\t<Datepicker changeDate={this.handleChangeDate} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Header);","import config from '../config.js'\n\nconst siteId = 1513804707441;\n\nfunction getHeader(){\n\treturn (JSON.parse(localStorage.getItem('cisco_auth'))).presence;\n}\n\nexport function getPresenceParams() {\n\treturn {\n\t\tbaseUrl: config.presence,\n\t\tdata: {\n\t\t\theaders: { Authorization: getHeader()},\n\t\t\tparams: {\n\t\t\t\tsiteId: siteId\n\t\t\t}\n\t\t}\n\t};\n}","import React, { Component } from 'react';\nimport {PieChart, Pie, Cell, Tooltip, ResponsiveContainer} from 'recharts';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Grid} from \"@material-ui/core\";\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\n\tconnected: {\n\t\tname: 'Connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'Passerby',\n\t\tcolor: '#0069fc',\n\t},\n\tvisitors: {\n\t\tname: 'Visitors',\n\t\tcolor: '#ff0043',\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t}\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {BarChart, Bar, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from 'recharts';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\tconnected: {\n\t\tname: 'connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'passerby',\n\t\tcolor: '#0069fc'\n\t},\n\tvisitors: {\n\t\tname: 'visitors',\n\t\tcolor: '#ff0043'\n\t}\n};\n\nclass ChartProximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t};\n\t}\n\n\n\tsetChartData = (chartData, type) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props[type]) {\n\t\t\tif (this.props[type].hasOwnProperty(prop)) {\n\t\t\t\tif (typeof(chartData[key]) == 'undefined') {\n\t\t\t\t\tchartData[key] = {};\n\t\t\t\t}\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tchartData[key][type] = this.props[type][prop];\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart,'connected');\n\t\tchart = this.setChartData(chart,'visitors');\n\t\tchart = this.setChartData(chart,'passerby');\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst typesBars = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Bar\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tfill={keys[type].color}\n\t\t\t\t\t\tfillOpacity={0.8}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Proximity</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<BarChart data={chart}>\n\t\t\t\t\t\t\t\t<CartesianGrid stroke=\"#ccc\"/>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" height={60}/>\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{typesBars}\n\t\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartProximity;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport TotalCount from \"./TotalCount\";\nimport ChartProximity from \"./ChartProximity\";\n\nclass Proximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tvisitorsCount: 0,\n\t\t\tconnectedCount: 0,\n\t\t\tpasserbyCount: 0,\n\t\t\tvisitors: [],\n\t\t\tconnected: [],\n\t\t\tpasserby: []\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\tstartDate: nextProps.startDate,\n\t\t\tendDate: nextProps.endDate\n\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tfetchAll = () => {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\n\n\n\t\tthis.fetchCountVisitors();\n\t\tthis.fetchCountConnected();\n\t\tthis.fetchCountPasserby();\n\t};\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchCountVisitors() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitorsCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountConnected() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connectedCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountPasserby() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerbyCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartProximity visitors={this.state.visitors} connected={this.state.connected} passerby={this.state.passerby} range={this.isRange()} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount visitors={this.state.visitorsCount} connected={this.state.connectedCount} passerby={this.state.passerbyCount}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Proximity;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\n\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\tranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[range].name,\n\t\t\t\t\tvalue: this.props.countDwellTime[range],\n\t\t\t\t\tkey: range\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {AreaChart, Area, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartDwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.dwellTime) {\n\t\t\tif (this.props.dwellTime.hasOwnProperty(prop)) {\n\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let range in this.props.dwellTime[prop]) {\n\t\t\t\t\tif (this.props.dwellTime[prop].hasOwnProperty(range)) {\n\t\t\t\t\t\tdata[keys[range].name] = this.props.dwellTime[prop][range];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\t\tlet ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesAreas = ranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Area\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[range].name}\n\t\t\t\t\t\tstroke={keys[range].color}\n\t\t\t\t\t\tfillOpacity={1}\n\t\t\t\t\t\tfill={\"url(#\" + range + \")\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tconst colorsGradients = ranges.map((range, index) =>\n\t\t\t<linearGradient key={index} id={range} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n\t\t\t\t<stop offset=\"5%\" stopColor={keys[range].color} stopOpacity={0.9}/>\n\t\t\t\t<stop offset=\"95%\" stopColor={keys[range].color} stopOpacity={0}/>\n\t\t\t</linearGradient>\n\t\t);\n\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Dwell Time</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<AreaChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<defs>{colorsGradients}</defs>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesAreas}\n\t\t\t\t\t\t\t</AreaChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartDwell;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport TotalCount from \"./TotalCount\";\nimport ChartDwell from \"./ChartDwell\";\n\nclass Dwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tdwellTime: [],\n\t\t\tcountDwellTime: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\tdwellTime: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchDwellTime();\n\t\tthis.fetchCountDwellTime();\n\t};\n\n\tfetchDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({dwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tconsole.log('RESPONSE: ', result.data);\n\t\t\t\tthis.setState({countDwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartDwell range={this.isRange()} dwellTime={this.state.dwellTime} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount countDwellTime={this.state.countDwellTime} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Dwell;","import React, { Component } from 'react';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport PeopleIcon from '@material-ui/icons/People';\nimport Typography from \"@material-ui/core/Typography\";\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartRepeatVisitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.repeatVisitors) {\n\t\t\tif (this.props.repeatVisitors.hasOwnProperty(prop)) {\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let type in this.props.repeatVisitors[prop]) {\n\t\t\t\t\tif (this.props.repeatVisitors[prop].hasOwnProperty(type)) {\n\t\t\t\t\t\tdata[keys[type].name] = this.props.repeatVisitors[prop][type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesLines = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Line\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tstroke={keys[type].color}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Repeat Visitors</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<LineChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesLines}\n\t\t\t\t\t\t\t</LineChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartRepeatVisitors;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\nimport PeopleIcon from '@material-ui/icons/People';\n\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props.count[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport ChartRepeatVisitors from \"./ChartRepeatVisitors\";\nimport TotalCount from \"./TotalCount\";\n\n\nclass RepeatVisitors extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\trepeatVisitors: [],\n\t\t\tcount: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\trepeatVisitors: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchRepeatVisitors();\n\t\tthis.fetchCount();\n\t};\n\n\tfetchRepeatVisitors() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({repeatVisitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCount() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({count: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n// <TotalCount countDwellTime={this.state.countDwellTime} />\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartRepeatVisitors range={this.isRange()} repeatVisitors={this.state.repeatVisitors} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount count={this.state.count} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default RepeatVisitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\n\nclass Visitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Visitors</Typography>\n\t\t\t\t\t\t\t<PeopleOutlineIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Visitors:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.props.visitors}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Connected:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.connected}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Passerby:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.passerby}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected Percentage:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.precentage} %</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Conversion Rate:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.conversionRate} %</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Visitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nclass DwellTime extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\tpeakHourFormat() {\n\t\ttry {\n\t\t\tlet time = this.props.peakSummary.peakHour;\n\t\t\tlet next = this.props.peakSummary.peakHour + 1;\n\t\t\tlet formattedTime = time < 10 ? '0' + time + ':00' : time + ':00';\n\t\t\tlet formattedNext = next < 10 ? '0' + next + ':00' : next + ':00';\n\t\t\treturn formattedTime + ' - ' + formattedNext;\n\t\t} catch (err) {\n\n\t\t}\n\t}\n\n\taverageDwelTime() {\n\t\tlet hrs = parseInt(parseInt(this.props.averageDwellTime) / 60);\n\t\tlet min = parseInt(this.props.averageDwellTime) % 60;\n\t\treturn hrs + ' hrs ' + min + ' min';\n\t}\n\n\trender() {\n\t\t// {/*<Typography> {this.props.peakSummary.peakHour} </Typography>*/}\n\t\t// startDate: moment(new Date()).format('Y-MM-DD'),\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Dwell Time</Typography>\n\t\t\t\t\t\t\t<AccessTimeIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Average Dwell Time:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.averageDwelTime()}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Hour:</Typography>\n\t\t\t\t\t\t\t<Typography> {this.peakHourFormat()} </Typography>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Users in peak hour:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.peakSummary.peakHourCount}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-30 min:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.FIVE_TO_THIRTY_MINUTES.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">30-60 min:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.THIRTY_TO_SIXTY_MINUTES.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">1-5 hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.ONE_TO_FIVE_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-8 hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.FIVE_TO_EIGHT_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">8+ hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.EIGHT_PLUS_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default DwellTime;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport DevicesIcon from '@material-ui/icons/Devices';\n\nclass Devices extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\trender() {\n\t\tconst propsDevices = this.props.devices;\n\n\t\tlet sortedDevices = Object.keys(propsDevices).sort(function(a, b){return propsDevices[b] - propsDevices[a]});\n\t\tconsole.log('sortedDevices: ', sortedDevices);\n\t\tlet deviceNames = [];\n\t\tfor (let prop in sortedDevices) {\n\t\t\tif (sortedDevices.hasOwnProperty(prop)) {\n\t\t\t\tdeviceNames.push(sortedDevices[prop]);\n\t\t\t}\n\t\t}\n\t\tconst rangesAreas = deviceNames.map((device, index) => {\n\t\t\treturn (\n\t\t\t\t<div key={index} className={\"textRow\"}>\n\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">{device}:</Typography>\n\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.props.devices[device]}</Typography>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Devices</Typography>\n\t\t\t\t\t\t\t<DevicesIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{rangesAreas}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Devices;","import React, {Component} from 'react';\nimport moment from \"moment\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUp\";\n\nconst types = ['visitors', 'connected', 'passerby'];\n\nclass Prediction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet end = moment(new Date()).format(\"Y-MM-DD\");\n\t\tlet start = moment(new Date()).add(-30, \"days\").format(\"Y-MM-DD\");\n\t\tthis.state = {\n\t\t\tstartDate: start,\n\t\t\tendDate: end,\n\t\t\tvisitors: undefined,\n\t\t\tconnected: undefined,\n\t\t\tpasserby: undefined\n\t\t};\n\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\t}\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tisKeyPresentInObj(key, obj) {\n\t\treturn (typeof (this.state[obj][key]) !== \"undefined\");\n\t}\n\n\tpredict(obj) {\n\t\tif (typeof(this.state[obj]) !== \"undefined\") {\n\t\t\tlet currentKeyDate = moment(this.state.endDate).add(-6, \"days\").format(\"Y-MM-DD\");\n\t\t\tlet i = 0;\n\t\t\tlet counts = [];\n\t\t\twhile (this.isKeyPresentInObj(currentKeyDate, obj)) {\n\t\t\t\tcounts.push(this.state[obj][currentKeyDate]);\n\t\t\t\tcurrentKeyDate = moment(currentKeyDate).add(-7, \"days\").format(\"Y-MM-DD\");\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tconsole.log(\"counts: \", counts);\n\t\t\tconsole.log(\"i: \", i);\n\t\t\treturn parseInt(this.countAverage(counts, i));\n\t\t}\n\t\treturn 0\n\t}\n\n\tcountAverage(array, counts) {\n\t\tlet sum = 0\n\t\tarray.map((number, index) => {\n\t\t\tsum += number;\n\t\t});\n\t\treturn sum / counts;\n\t}\n\n\n\trender() {\n\n\n\t\tlet predictions = {};\n\t\ttypes.map((type, index) => {\n\t\t\tpredictions[type] = this.predict(type);\n\t\t});\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Tomorrow</Typography>\n\t\t\t\t\t\t\t<TrendingUpIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Visitors:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.visitors}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.connected}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Passerby:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.passerby}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Prediction;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport moment from \"moment\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport Visitors from \"./Visitors\";\nimport DwellTime from \"./DwellTime\";\nimport Devices from \"./Devices\";\nimport Prediction from \"./Prediction\";\n\nclass Summary extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tsummary: undefined\n\t\t};\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate\n\t\t\t},\n\t\t\t() => { this.fetchSummary() });\n\t}\n\n\tfetchSummary = () => {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/kpisummary', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tconsole.log('result.data', result.data);\n\t\t\t\tthis.setState({summary: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\trender() {\n\n\t\tif (typeof (this.state.summary) === 'undefined') {\n\t\t\treturn (<div></div>);\n\t\t}\n\n\t\treturn(\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Visitors\n\t\t\t\t\tconnected={this.state.summary.totalConnectedCount}\n\t\t\t\t\tpasserby={this.state.summary.totalPasserbyCount}\n\t\t\t\t\tvisitors={this.state.summary.totalVisitorCount}\n\t\t\t\t\tprecentage={this.state.summary.connectedPercentage}\n\t\t\t\t\tconversionRate={this.state.summary.conversionRate}\n\t\t\t\t/>\n\t\t\t\t<DwellTime\n\t\t\t\t\taverageDwellTime={this.state.summary.averageDwell}\n\t\t\t\t\tpeakSummary={this.state.summary.peakSummary ? this.state.summary.peakSummary : this.state.summary.peakWeekSummary}\n\t\t\t\t\tdwellLevels={this.state.summary.averageDwellByLevels}\n\t\t\t\t/>\n\t\t\t\t<Devices\n\t\t\t\t\tdevices={this.state.summary.topManufacturers.manufacturerCounts}\n\t\t\t\t/>\n\t\t\t\t<Prediction/>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Summary;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport moment from \"moment\";\n\nimport Header from \"./Header\";\nimport Proximity from \"./Proximity/Proximity\";\nimport Dwell from \"./Dwell/Dwell\";\nimport RepeatVisitors from \"./RepeatVisitors/RepeatVisitors\";\nimport Summary from \"./Summary/Summary\";\n\nclass Analytics extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD'),\n\t\t};\n\t}\n\n\tgetQueryParams = params => {\n\t\tthis.setState({\n\t\t\t\tstartDate: params.startDate,\n\t\t\t\tendDate: params.endDate\n\t\t\t});\n\t};\n\n\trender() {\n\t\t// {/*<RepeatVisitors startDate={this.state.startDate} endDate={this.state.endDate} />*/}\n\t\treturn (\n\t\t\t<div className={\"wrapper-md-24\"}>\n\t\t\t\t<Grid container direction={\"column\"}>\n\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24\"}>\n\t\t\t\t\t\t<Header handleParams={this.getQueryParams}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Summary startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Proximity      startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Dwell          startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<RepeatVisitors startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\n\n\t}\n}\n\nexport default Analytics;\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { Link } from 'react-router-dom';\n\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: 0 };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  logout(){\n    localStorage.removeItem('cisco_auth');\n    window.location.reload();\n  }\n\n  render() {\n    if (this.props.location.pathname === \"/login\"){\n      return (<div></div>);\n    }\n    return (\n      <AppBar position=\"static\">\n        <Tabs value={this.state.value} onChange={this.handleChange}\n          centered >\n          <Tab label=\"Analytics\" component={Link} to=\"/\" />\n          <Tab label=\"Location\" component={Link} to=\"/location\" />\n          <Tab label=\"Log Out\" onClick={this.logout.bind(this)} />\n        </Tabs>\n      </AppBar>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios/index';\nimport config from '../config.js'\n\n// matrerial ui and css\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport '../css/Login.css';\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      presenceUname: \"\",\n      presencePass: \"\",\n      locationUname: \"\",\n      locationPass: \"\"\n    };\n  }\n\n  handleChange(event) {\n    if (\"presenceUname\" === event.target.name){\n      this.setState({ presenceUname:  event.target.value})\n    } else if (\"presencePass\" === event.target.name){\n      this.setState({ presencePass:  event.target.value})\n    } else if (\"locationUname\" === event.target.name){\n      this.setState({ locationUname:  event.target.value})\n    } else if (\"locationPass\" === event.target.name){\n      this.setState({ locationPass:  event.target.value})\n    }\n  }\n\n  async componentWillUnmount() {\n    try{\n      let url = config.presence + 'api/config/v1/sites';\n      let header = (JSON.parse(localStorage.getItem('cisco_auth'))).presence\n      let res = await axios.get(config.presence + 'api/config/v1/sites', {\n              headers: {\n                  Authorization: header\n              }\n          });\n      localStorage.setItem('siteId', JSON.stringify({\n        id: res.data[0].aesUId,\n      }));\n    } catch (error){\n      if (error.response.status == 401){\n        localStorage.removeItem('cisco_auth');\n        this.props.history.push(\"/login\");\n      }\n    }\n  }\n\n handleSubmit() {\n    localStorage.setItem('cisco_auth', JSON.stringify({\n      presence: \"Base \" + btoa(this.state.presenceUname + \":\" + this.state.presencePass),\n      location: \"Base \" + btoa(this.state.locationUname + \":\" + this.state.locationPass),\n    }));\n  }\n\n  render() {\n    if (localStorage.getItem('cisco_auth')){\n      return (<Redirect to='/' />);\n    }\n    return (\n      <div className=\"LoginWrapper\">\n        <div className=\"Main\">\n          <CssBaseline />\n          <Paper className=\"Paper\">\n            <Typography component=\"h1\" variant=\"h5\">\n              Credentials\n            </Typography>\n\n              <form className=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n                <div className=\"InerBox\">\n                  <FormLabel component=\"legend\">Cisco_CMX_Locate</FormLabel>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"text\">Username</InputLabel>\n                  <Input required={true} name=\"locationUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">Password</InputLabel>\n                  <Input required={true} name=\"locationPass\" type=\"password\"  autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n                </FormControl>\n\n            </div>\n            <div className=\"InerBox\">\n            <FormLabel component=\"legend\">Cisco_CMX_Presence</FormLabel>\n\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"text\">Username</InputLabel>\n                <Input required={true} name=\"presenceUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Password</InputLabel>\n                <Input required={true} name=\"presencePass\" type=\"password\" autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              </div>\n              <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className=\"Submit\"\n                type=\"submit\"\n                >\n                Submit\n              </Button>\n            </form>\n\n\n          </Paper>\n      </div>\n  </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dense: {\n    marginTop: 16,\n  },\n  menu: {\n    width: 200,\n  },\n});\n\n\nclass OutlinedTextFields extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      list: this.props.name,\n      value: \"\"\n    };\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.value){\n      this.setState({\n        value: nextProps.value\n      })\n    } else {\n      this.setState({\n        list: nextProps.name.sort()\n      })\n    }\n  }\n\n  handleChange = () => event => {\n    this.setState({\n      value: event.target.value,\n    });\n    this.props.handleChange(this.props.title, event.target.value);\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n\n        <TextField\n          id=\"outlined-select-currency\"\n          select\n          label=\"Select\"\n          className={classes.textField}\n          value={this.state.value}\n          onChange={this.handleChange()}\n          helperText={\"Please select your \" + this.props.title}\n          margin=\"normal\"\n          variant=\"outlined\"\n        >\n          {this.state.list.map((option, index) => (\n            <MenuItem key={index} value={option}>\n              {option}\n            </MenuItem>\n          ))}\n        </TextField>\n      </form>\n    );\n  }\n}\n\nOutlinedTextFields.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OutlinedTextFields);\n","import React, { Component } from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport Grid from '@material-ui/core/Grid';\nimport OutlinedTextFields from './OutlinedTextFields.jsx';\nimport ImgMediaCard from './ImgMediaCard.jsx';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\n\nclass Map extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floorList: [],\n      campusName: [],\n      buildName: [],\n      floorValue: \"\",\n      open: false,\n      vertical: 'bottom',\n      horizontal: 'left',\n      msg: \"test\"\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      let url = config.location + 'api/config/v1/maps';\n      let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n      let res = await axios.get(url, {\n        headers: {\n          Authorization: header,\n        }\n      });\n      let upper = this;\n      res.data.campuses.map((item) => {\n        upper.setState(prevState => ({\n          campusName: [...prevState.campusName, item.name],\n        }))\n        item.buildingList.map(item => {\n          upper.setState(prevState => ({\n            buildName: [...prevState.buildName, item.name]\n          }))\n          item.floorList.map(item => {\n            upper.setState(prevState => ({\n              floorList: [...prevState.floorList, item.name],\n              [item.name]: item.aesUidString\n            }))\n          })\n        })\n      });\n\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  handleChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  setFloor = (param) => {\n    this.state.floorList.map(item => {\n      if (this.state[item] === param) {\n        this.setState({\n          floor: item,\n        })\n      }\n    })\n  } \n\n  handleClick = (param) => {\n    this.setState({ open: true, msg: param });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  }\n\n  render() {\n    const { vertical, horizontal, open, msg } = this.state;\n    return (\n      <div>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          <OutlinedTextFields name={this.state.campusName} title=\"campus\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.buildName} title=\"bulding\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.floorList} title=\"floor\" handleChange={this.handleChange} value={this.state.floor} />\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"flex-start\"\n        >\n          <ImgMediaCard\n            imageSrc={\"/\" + this.state.campus + \"/\" + this.state.bulding + \"/\" + this.state.floor}\n            floor={this.state[this.state.floor]}\n            setFloor={this.setFloor}\n            notification={this.handleClick}\n          />\n          <Button onClick={() => this.handleClick(\"lol\")}>\n          Top-Left\n        </Button>\n          <Snackbar\n            anchorOrigin={{ vertical, horizontal }}\n            open={open}\n            onClose={this.handleClose}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            autoHideDuration={3000}\n            message={<span id=\"message-id\">{ msg }</span>}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Map;\n","import React, { Component } from 'react';\nimport { Route, Redirect, BrowserRouter} from 'react-router-dom';\nimport './App.css';\nimport Analytics from './Analytics/Analytics.jsx';\nimport Header from './Layout/Header.jsx';\nimport Login from './Layout/Login.jsx';\nimport Map from './Location/Map.jsx';\n\nlet Auth = (Component) => {\n    if (!localStorage.getItem('cisco_auth')){\n        return () => ( <Redirect to='/login' /> );\n    }\n    return () => ( <Component /> );\n};\n\nclass App extends Component {\n    render() {\n        return (\n            <BrowserRouter>\n                <Route path={\"/\"} component={Header} />\n                <Route exact path={\"/\"} component={Auth(Analytics)} />\n                <Route path={\"/location\"} component={Auth(Map)} />\n                <Route path={\"/login\"} component={Login} />\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React  from 'react';\nimport ReactDOM from 'react-dom';\n// import { BrowserRouter } from 'react-router-dom';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport './style.css';\n\nReactDOM.render(\n    <App />,\n   document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}